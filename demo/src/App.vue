<template>
  <div>
    <div ref="title" class="flex items-center justify-center">
      <h1 class="m-6 text-4xl font-bold cursor-pointer select-none">
        ü§π&nbsp;@vueuse/motion
      </h1>
    </div>

    <div class="flex flex-col items-center justify-center">
      <a
        ref="github"
        href="https://github.com/VueUse/motion"
        class="mt-12 mb-6"
      >
        ‚Ü©Ô∏è&nbsp;&nbsp;Bring me back to GitHub
      </a>

      <p ref="credits" class="mb-6 text-center">
        This package has been written by
        <a href="https://twitter.com/yaeeelglx" target="_blank"
          >Ya√´l Guilloux</a
        >
      </p>
    </div>
  </div>
</template>

<script lang="ts">
import { MotionVariants, useMotion } from '@lib'
import { defineComponent, ref } from 'vue'

export default defineComponent({
  setup() {
    const defaultAnimation = (index: number): MotionVariants => ({
      initial: {
        y: -100,
        scale: 0,
        opacity: 0,
      },
      enter: {
        y: 0,
        scale: 1,
        opacity: 1,
        transition: {
          delay: index * 250,
          type: 'spring',
        },
      },
    })

    const title = ref<HTMLElement>()
    const github = ref<HTMLElement>()
    const credits = ref<HTMLElement>()

    const { name: titleVariant } = useMotion(title, defaultAnimation(0))

    const { name: githubVariant } = useMotion(github, defaultAnimation(1))

    const { name: creditsVariant } = useMotion(credits, defaultAnimation(2))

    console.log({
      titleVariant,
      githubVariant,
      creditsVariant,
    })

    return {
      title,
      github,
      credits,
    }
  },
})
</script>

<style lang="postcss" scoped>
a {
  @apply font-bold transition-colors duration-100 hover:text-blue-400;
}
</style>
